
<template name='Friends'>

  <div class="friends">

    {{> suggestedFriends }}

    <div id="friends">

      <div class="list-div">
        <h2>All your Friends</h2>
        {{> displayFriends }}
      </div>

      <div class="list-div">
        <h3>Friends requests</h3>
        {{> friendRequests }}
      </div>
    </div>
  </div>

</template>

<template name="friendRequests">

  {{#if hasRequests}}
    <p>
      You have {{currentUser.numRequests}} pending requests
    </p>
    {{#each currentUser.requests}}
    <div class="request">
          <p>{{requesterName this.requester}} would like to be friends</p>
            <a href="#" data-action="accept">Accept</a>
            <a href="#" data-action="deny">Deny</a>
            <a href="#" data-action="ignore">Ignore</a>
    </div>
    {{/each}}
  {{else}}
      <p>You have no requests. :( </p>
  {{/if}}

</template>

<template name= "displayFriends">
  {{#each currentUser.friends}}
  {{#if user.profile.id}}
    <p>{{user.profile.id}}</p>
   {{ else }}
    <p>{{user.username}}</p>
   {{/if}}
  {{/each}}
</template>

<template name= "suggestedFriends">
  <div id="suggested-friends">
    <ul>
    {{#each AllUsers}}
      {{#unless isItMe this._id }}
      <li><p>{{this.username}}</p>
      <button type="button" name="{{this._id}}" id="friend-request-btn">Follow {{ this.username }}</button></li>
      {{/unless}}
    {{/each}}
    </ul>
  </div>
</template>
