
<template name='Friends'>
  <h1 class='page_titles'>Friends</h1>
  {{#if currentUser}}
  <div class="friends">

    <div id="friends">

      <div class="list-div">
        {{> displayFriends }}
      </div>

      <div class="list-div">
        {{> friendRequests }}
      </div>
    </div>
  </div>
  {{/if}}

</template>

<template name= "displayFriends">
  <h2>All your Friends</h2>
  <ul id="friends-list">
    {{#if hasFriends}}
      {{#each currentUser.friends}}
        <li><span class="user-name">{{userName this.user}}</span>
        <a href="#" data-action="unfriend" id="unfriend-btn">Unfriend {{ userName this.user }}</a></li>
      {{/each}}
    {{else}}
      <p>You don't have any friends yet.</p>
    {{/if}}
  </ul>

  <h3>Friends who haven't confirmed</h3>
  <ul id="requests-made-list">
    {{#if hasPendingRequests}}
      {{#each currentUser.pendingRequests}}
        <li><span class="user-name">{{userName this.user}}</span> - <a href="#" data-action="cancel">Cancel pending request</a></li>
      {{/each}}
    {{else}}
      <p>Your friends have already responded to all your requests.</p>
    {{/if}}
  </ul>
</template>

<template name="friendRequests">
  <h3>Friend requests</h3>
  <ul id="requests-received-list">
    {{#if hasRequests}}
      <p>
        You have {{currentUser.numRequests}} pending requests
      </p>
      {{#each currentUser.requests}}
      <li class="request">
        <p>{{userName this.requester}} would like to be friends</p>
          <a href="#" data-action="accept" class='accept-friend-request'>Accept</a>
          <a href="#" data-action="cancel" class='cancel-friend-request'>No thanks</a>
      </li>
      {{/each}}
      {{else}}
        <p>You have responded to all your friends' requests.</p>
      {{/if}}
    </ul>
</template>

<!-- <template name= "suggestedFriends">
  <div id="suggested-friends">
    <ul>
    {{#each AllUsers}}
      {{#unless isMeOrFriend this }}
      <li>
      <a href="#" type="button" name="{{this._id}}" class="friend-request-btn">Follow {{ userName this }}</a></li>
      <span>{{ compatibility this }}% compatible</span>
      {{/unless}}
    {{/each}}
    </ul>
  </div>
</template> -->
